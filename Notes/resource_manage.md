# iOS å¼€å‘ä¸­çš„èµ„æºç®¡ç†é—®é¢˜
## å‰è¨€

åœ¨ iOS å¼€å‘ä¸­ï¼Œèµ„æºæ–‡ä»¶ç®¡ç†æ˜¯å¿…ä¸å¯å°‘çš„ä¸€ä»¶äº‹æƒ…ã€‚ä»Šå¤©æˆ‘å’Œå¤§å®¶èŠä¸€èŠä¸‹é¢è¿™å‡ ä¸ªé—®é¢˜ã€‚

- å¦‚ä½•æ›´é«˜æ•ˆçš„åŒæ­¥ç´ æå›¾?
- å¦‚ä½•æ›´å®‰å…¨çš„è¯»å–ç´ æå›¾?
- å¦‚ä½•è§£å†³ç»„ä»¶ä¹‹é—´çš„é‡åé—®é¢˜ï¼Ÿ

---

## æ›´é«˜æ•ˆçš„åŒæ­¥ç´ æå›¾

è¯´èµ· **æ›´é«˜æ•ˆ**ï¼Œå‰ä¸ä¹…ç‰¹åœ°æ‰¾äº†å‡ ä¸ªæœ‹å‹é—®äº†ä¸€ä¸‹ä»–ä»¬é¡¹ç›®ä¸­åŒæ­¥ç´ æå›¾çš„æ–¹å¼ï¼Œæˆ‘å¤§è‡´åˆ—ä¸¾ä¸€ä¸‹:

- ä¹ä¸ç‰ˆ 
![](https://github.com/Damonvvong/DevNotes/blob/master/images/resource_manage1.jpg)

- å…¥é—¨ç‰ˆ 
![](https://github.com/Damonvvong/DevNotes/blob/master/images/resource_manage2.jpg)

- å‡çº§ç‰ˆ 
![](https://github.com/Damonvvong/DevNotes/blob/master/images/resource_manage3.jpg)

- æå®¢ç‰ˆ 
![](https://github.com/Damonvvong/DevNotes/blob/master/images/resource_manage4.jpg)

æ€»ç»“äº†é‚£ä¹ˆå¤šï¼Œæˆ‘åªæƒ³è¯´ä¸€å¥è¯ï¼Œé‚£å°±æ˜¯... 

![(å›¾ç‰‡ä¸æœ¬æ–‡æ— å…³)](https://github.com/Damonvvong/DevNotes/blob/master/images/resource_manage5.jpg)

...é‚£å°±æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©**è„šæœ¬**å»ä¼˜åŒ–ä¸Šé¢çš„å·¥ä½œæµï¼Œä»è€Œè¾¾åˆ°æ›´é«˜æ•ˆã€‚å¤§è‡´æµç¨‹å¦‚ä¸‹

![](https://github.com/Damonvvong/DevNotes/blob/master/images/resource_manage6.png)

å®é™…ä¸Šå·¥ä½œåŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯å€ŸåŠ©äº† **Xcode** çš„ **Build Phases** çš„åŠŸèƒ½ï¼Œç¼–å†™ä¸€ä¸ªå°†å›¾ç‰‡ä»ä¸€ä¸ªåŒæ­¥ç›˜åŒæ­¥åˆ°é¡¹ç›®ä¸­çš„ **Asset Catalog** çš„è„šæœ¬ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™ **å¢é‡** åŒæ­¥ï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç®¡ç†å›¾ç‰‡æ–‡ä»¶äº†ã€‚

æˆ‘ç”¨ Swift å®ç°äº†è¿™ä¸ªè„šæœ¬ï¼Œæ”¾åœ¨äº† [GitHub - AutoAsset](https://github.com/Damonvvong/AutoAsset) ä¸Šï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥ä¸‹è½½æºç äº†è§£ä¸€ä¸‹ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨åˆ°ä½ çš„é¡¹ç›®ä¸­ï¼Œç„¶åå†ä¹Ÿä¸ç”¨æ“å¿ƒåŒæ­¥å›¾ç‰‡çš„äº‹æƒ…å•¦ã€‚ä¸Šé¢æœ‰ä½¿ç”¨æ–¹æ³•å’Œç¤ºä¾‹Demoï¼Œæ‰€ä»¥è„šæœ¬çš„ä½¿ç”¨ç»†èŠ‚æˆ‘å°±ä¸å±•å¼€è®²äº†ã€‚

å¯èƒ½æœ‰äººä¼šæ‹…å¿ƒè¿™æ ·çš„æ–¹å¼ä¼šå‡æ…¢ç¼–è¯‘é€Ÿåº¦ï¼Œä½†æ˜¯æˆ‘é€šè¿‡ç¼“å­˜ä¸Šæ¬¡åŒæ­¥æˆåŠŸçš„å›¾ç‰‡ï¼Œå†å€ŸåŠ© diff æ‰¾å‡ºä¸ä¸€æ ·çš„æ–‡ä»¶è€Œå»è¿›è¡Œå¢é‡åŒæ­¥ã€‚å°±ä¸ä¼šå­˜åœ¨ä»€ä¹ˆå‡æ…¢ç¼–è¯‘é€Ÿåº¦äº†ã€‚

> è¯´äº†é‚£ä¹ˆå¤šï¼Œæçš„å¥½åƒä¸åŠ è¿™ä¸ªä½ ç¼–è¯‘ Swift ä¼šå¾ˆå¿«ä¸€æ ·ã€‚ğŸ˜‚

---

## æ›´å®‰å…¨çš„è¯»å–ç´ æå›¾

é¡¹ç›®ä¸­è¯»å–ä¸€å¼ å›¾ç‰‡å¤§è‡´æœ‰ä¸¤ç§ç±»å‹:

- é€šè¿‡ **å­—ç¬¦ä¸²** è¯»å–

```Swift
let image = UIImage(named: "damonwong"ï¼‰
```
å¯¹äºè¿™ç§æ–¹å¼è€Œè¨€ï¼Œå½“å›¾ç‰‡åˆ é™¤æ—¶ï¼Œå¯èƒ½ä¼šå› ä¸ºæ²Ÿé€šä¸åŠæ—¶ **å¯¼è‡´å›¾ç‰‡è¯»å–å¤±è´¥** è€Œæ²¡æœ‰å‘ç°ï¼Œç›¸å¯¹æ¥è¯´å¹¶ä¸æ˜¯ä¸€ä¸ª **ååˆ†å®‰å…¨** çš„æ–¹å¼ã€‚

- é€šè¿‡ **å­—é¢é‡** è¯»å–

```Swift
let image = #imageLiteral(resourceName: "damonwong")
```
è™½ç„¶é€šè¿‡å­—é¢é‡è¯»å–ï¼Œåœ¨ Xcode é‡Œé¢å¯ä»¥ç›´æ¥çœ‹åˆ°å›¾ç‰‡ç‰¹åˆ«çš„å½¢è±¡ï¼Œä½†æ˜¯ä¸€æ—¦å›¾ç‰‡åˆ é™¤ï¼Œä½ åˆæ²¡æœ‰åŠæ—¶ä¿®æ”¹è€Œä¸Šçº¿äº†ï¼Œ**ç›´æ¥ä¼šå¯¼è‡´å¥”æºƒ** ğŸ™ƒ, æ‰€ä»¥æ˜¯ä¸€ç§ **æåº¦ä¸å®‰å…¨** çš„æ–¹å¼ã€‚

**é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½æ›´å®‰å…¨çš„è¯»å–ä¸€å¼ ç´ æå›¾å‘¢ï¼Ÿ**

> ç”¨ **Strongly typed identifiers**

é¦–å…ˆï¼Œå…ˆè¯´ä¸€ä¸‹ä»€ä¹ˆæ˜¯ **Strongly typed identifiers**ã€‚
- å¯¹äºä¸€ä¸ªå­—ç¬¦ä¸²è€Œè¨€ï¼Œä½ å¯ä»¥æ˜¯ä»»ä½•å­—ç¬¦æ¯”å¦‚ `damonwong` æˆ–è€… `damonvvong`, ç¼–è¯‘å™¨å¹¶ä¸ä¼šå¸®ä½ å»æ£€æŸ¥è¿™ä¸ªå­—ç¬¦ä¸²æœ‰æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ **enum** æˆ–è€… **struct** å¯¹å­—ç¬¦ä¸²è¿›è¡Œä¸€æ¬¡åŒ…è£…ï¼Œå¼ºè¡Œè®©ç¼–è¯‘å™¨å»æ£€æŸ¥ä¸€ä¸‹å­—ç¬¦ä¸²æœ‰æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚æ¯”å¦‚ï¼š

```Swift
enum StronglyString: String {
    case damonwong
    case damonvvong
}

print(StronglyString.damonwong.rawValue)
print(StronglyString.damonvvong.rawValue)
```
è¿™å°±æ˜¯ **strongly typed identifiers**ã€‚

åŒæ—¶ï¼Œå¯¹äº **å›¾ç‰‡å** è€Œè¨€ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ **Strongly typed identifiers** åº”ç”¨ä¾‹å­ã€‚å°†æ‰€æœ‰çš„å›¾ç‰‡åéƒ½ä»¥ **enum** çš„æ–¹å¼å»åŒ…è£…ï¼Œä¸ä½†èƒ½æ£€æŸ¥å›¾ç‰‡é‡åé—®é¢˜ï¼Œè¿˜èƒ½åŠæ—¶å‘ç°è¢«åˆ é™¤çš„å›¾ç‰‡ååˆ°åº•ç”¨åœ¨å“ªäº›åœ°æ–¹ã€‚

æ‰€ä»¥è¦æ€ä¹ˆå»åšå‘¢ï¼Ÿç…§ç€ Asset Catalog ç›®å½•ä¸€ä¸ªä¸€ä¸ªå»ç ï¼ŸNoï¼Œä½ é”™äº†ã€‚åƒè¿™ç§äº‹æƒ…ï¼Œè¿˜æ˜¯å¯ä»¥ç”¨è„šæœ¬æå®šã€‚

![](https://github.com/Damonvvong/DevNotes/blob/master/images/resource_manage7.jpg)

åœ¨ github ä¸Šæœ‰ä¸¤ä¸ªæ¯”è¾ƒå¥½ç”¨çš„åº“ [R.Swift](https://github.com/mac-cain13/R.swift) å’Œ [SwiftGen](https://github.com/SwiftGen/SwiftGen)ï¼Œéƒ½å¾ˆå¥½çš„è§£å†³äº†ä» **å­—ç¬¦ä¸²** åˆ° **Strongly typed identifiers** çš„è‡ªåŠ¨å·¥ä½œã€‚

ä¸¤ä¸ªåº“æˆ‘éƒ½å°è¯•äº†ä¸€ä¸‹ï¼Œå¤§ä½“åŠŸèƒ½éƒ½å·®ä¸å¤šï¼Œéè¦è¯´ä¸€ç‚¹ä¸åŒçš„è¯ï¼Œé‚£å°±æ˜¯:

- **SwiftGen** ç›¸å¯¹æ¥è¯´ä¾èµ–å°‘ä¸€ç‚¹ï¼Œå¯é…ç½®ç©ºé—´æ›´å¤§ï¼Œé€‚åˆè€é¡¹ç›®å¼•å…¥å¹¶èµ„æºå±€éƒ¨ç®¡ç†ã€‚
- **R.Swift** é…ç½®ç®€å•ä¸”ç®¡ç†å…¨é¢ï¼Œé€‚åˆæ–°é¡¹ç›®å¼•å…¥å¹¶èµ„æºå…¨å±€ç®¡ç†ã€‚

æœ€ç»ˆçš„ä½¿ç”¨æ•ˆæœå¦‚ä¸‹ï¼š

```Swift
// SwiftGen
let image = Asset.damonwong.image
// R.Swift
let icon = R.image.damonwong()
```

ä¸‹é¢ç®€å•çš„æè¿°ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ **SwiftGen**

- é¦–å…ˆï¼Œä½ è¦æ ¹æ® [README.md](https://github.com/SwiftGen/SwiftGen#installation) å®‰è£… **SwiftGen** å®ƒå¯ä»¥ç”¨ CocoaPods é›†æˆä¹Ÿå¯ä»¥ç›´æ¥å®‰è£…å‘½ä»¤è¡Œå·¥å…·ã€‚
- åœ¨å®‰è£…å¥½ä¹‹åï¼Œåœ¨ **Xcode** çš„ **Build Phases** æ–°å¢ä¸€ä¸ªè„šæœ¬ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯è„šæœ¬æ‰§è¡Œæ˜¯æœ‰é¡ºåºçš„ï¼Œå…ˆè¦æ‰§è¡Œä¸Šé¢çš„å›¾ç‰‡åŒæ­¥è„šæœ¬ **SwiftGen**ï¼Œå†æ‰§è¡Œ **SwiftGen**ã€‚è€Œä¸”è¿™ä¸¤æ­¥æ˜¯éœ€è¦åœ¨ç¼–è¯‘ä¹‹å‰æ‰§è¡Œçš„ã€‚
- å¦‚æœæœ‰å®šåˆ¶åŒ–è¦æ±‚çš„æœ‹å‹ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å»ä¿®æ”¹ **SwiftGen** çš„æ¨¡æ¿æ–‡ä»¶ã€‚ 

ç»“åˆ **æ›´é«˜æ•ˆçš„åŒæ­¥ç´ æå›¾** å’Œ **æ›´å®‰å…¨çš„è¯»å–ç´ æå›¾**ï¼Œæˆ‘ä»¬ç°åœ¨çš„æµç¨‹å°±å˜æˆäº†:
> 1. åŒæ­¥å›¾ç‰‡åˆ° **Asset Catalog** 
> 2. **SwiftGen/R.Swift** ç”Ÿæˆ **Strongly typed identifiers** æ–‡ä»¶ 
> 3. ç¼–è¯‘å™¨ç¼–è¯‘æ£€éªŒ - å¦‚æœ‰é—®é¢˜æŠ›å‡ºå¼‚å¸¸ã€‚

æ•´ä¸ªæµç¨‹å°±ç›¸å¯¹æ›´åŠ é«˜æ•ˆå’Œå®‰å…¨äº†ã€‚æˆ‘ä¹Ÿå†™äº†ä¸€ä¸ª[ç¤ºä¾‹ Demo - ResourceManageDemo](https://github.com/Damonvvong/DevNotes/tree/master/Demo/ResourceManageDemo)

---

## ç»„ä»¶ä¹‹é—´çš„é‡åé—®é¢˜

æœ€è¿‘é¡¹ç›®åœ¨åšç»„ä»¶åŒ–ï¼Œé‡åˆ°ä¸€ä¸ªé—®é¢˜ã€Œå¦‚ä½•è§£å†³ç»„ä»¶ä¹‹é—´çš„é‡åé—®é¢˜ã€ã€‚å’Œå°ä¼™ä¼´è®¨è®ºäº†ä¸€ä¸‹ï¼Œå¤§è‡´æœ‰ä¸‹é¢å‡ ç§çš„è§£å†³æ–¹æ¡ˆï¼š

- 1. ä¸ç”¨ç®¡ï¼Œåæ­£ç°åœ¨è¿˜æœ‰æ²¡é‡åæ–‡ä»¶
- 2. å°†ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶éƒ½åˆ°æ”¾åˆ°ä¸€èµ·ï¼ŒåŠæ—¶å‘ç°é‡åæ–‡ä»¶å¹¶ä¿®æ”¹
- 3. é€šè¿‡å‘½åå‰ç¼€æ¯”å¦‚ `PodA_icon_image` æ–¹å¼å»çº¦æŸ
- 4. ç»„ä»¶ä¹‹é—´å•ç‹¬ç®¡ç†èµ„æºæ–‡ä»¶

**æ–¹æ¡ˆ 1** æ˜¯ä¸Šæ¥å‡‘æ•°çš„ï¼Œè‚¯å®šæ˜¯ä¸è€ƒè™‘çš„ã€‚
**æ–¹æ¡ˆ 2** æ˜¯ä¸€ä¸ªç›¸å¯¹ä¸é”™çš„è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯ç»´æŠ¤èµ·æ¥æ˜¯ç›¸å¯¹äº**ä¸€ä¸ªé¡¹ç›®è€Œä¸æ˜¯ä¸€ä¸ªç»„ä»¶**ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœæœ‰ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œé‚£ä½ éœ€è¦çŸ¥é“è¿™ä¸ªé¡¹ç›®æ‰€ä¾èµ–çš„ç»„ä»¶éƒ½éœ€è¦å“ªäº›ç´ æå›¾ã€‚
**æ–¹æ¡ˆ 3** å°±æ˜¯ä¸€ä¸ªéƒ¨é—¨ä¹‹é—´çš„ååŒä¸è§„èŒƒé—®é¢˜äº†ï¼Œå‡ºäº **æ±‚äººè¡¥ä¸å¦‚æ±‚å·±** çš„åŸåˆ™ï¼Œæœ€åä¹Ÿæ”¾å¼ƒäº†ã€‚
**æ–¹æ¡ˆ 4** å°±æ˜¯æˆ‘ä»¬æœ€åçš„é€‰æ‹©

> å‰©ä½™ 50% éœ€è¦åˆ° [SwiftOldDriver ç²¾é€‰](https://xiaozhuanlan.com/topic/0194576283) æŸ¥çœ‹

